{"version":3,"sources":["all.js"],"names":["api_path","token","productData","cartData","cartProductId","cartId","orderData","orderList","init","document","querySelector","getProductList","getCartList","getOrderList","axios","get","then","response","data","products","renderProductList","selectList","addEventListener","renderSelectList","addCartBtn","querySelectorAll","forEach","item","addToCartData","cartList","deleteCartId","formList","getOrderData","error","console","log","inputData","productList","str","content","id","category","images","title","addCommaReg","price","innerHTML","num","number","toString","split","replace","join","e","target","value","filterData","filter","addCartItem","productId","post","carts","renderCartList","preventDefault","closest","dataset","length","product","endContent","clear","deleteCartItem","deleteAllCartList","classList","contains","inputGroup","select","alert","year","Date","getFullYear","month","getMonth","date","getDate","dateValue","i","getAttribute","placeholder","push","trim","userData","createOrder","message","headers","orders","renderOrderList","getChartData","deleteAll","deleteOrders","getOrderStatus","orderTable","sortOrderList","productItem","createdAt","user","name","tel","address","email","dateReg","paid","inputDate","toLocaleDateString","sort","a","b","del","deleteAllOrder","deleteOrderItem","orderId","editOrderList","orderStatus","put","statusBtn","editOrderStatus","status","productObj","parseInt","quantity","aryObj","Object","keys","chartData","ary","generateChart","chart","c3","generate","bindto","type","columns","colors"],"mappings":"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","file":"all.js","sourcesContent":["// 請代入自己的網址路徑\nconst api_path = \"joycheng\";\nconst token = \"PSNly2pd99XQct8dnO9toWyVyO13\";\n\nlet productData =[];\nlet cartData= [];\nlet cartProductId = '';\nlet cartId = '';\nlet orderData= [];\nlet orderList=[];\n\nfunction init(){\n  if(document.querySelector('[data-page=\"front\"]')){\n    getProductList();\n    getCartList();\n  }else{\n    getOrderList();\n    \n  }\n}\n\ninit();\n\n//font \n\n//取得產品列表\nfunction getProductList() {\n  axios.get(\n              `https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/products`\n      )\n    .then(function (response) {\n      productData = response.data.products;\n      renderProductList(productData);\n      const selectList = document.querySelector('.js-select');\n      selectList.addEventListener('change', renderSelectList);\n\n      const addCartBtn = document.querySelectorAll('.js-addToCart');\n      addCartBtn.forEach(item => item.addEventListener('click', addToCartData));\n\n      const cartList = document.querySelector('.js-cartList');\n      cartList.addEventListener('click', deleteCartId);\n\n      const formList = document.querySelector('.js-form');\n      formList.addEventListener('submit',getOrderData);\n\n    })\n    .catch(function(error){\n      console.log('error', error)\n    })\n}\n\n//renderProductList\nfunction renderProductList(inputData){\n  const productList = document.querySelector('.js-product-list');\n  let str ='';\n  inputData.forEach(item=>{\n    const content = `\n    <li class=\"productCard d-flex flex-column justify-content-between\" data-id=\"${item.id}\" data-category=\"${item.category}\">\n    <div>\n      <h4 class=\"productType\">新品</h4>\n      <img src=\"${item.images}\" alt=\"product img\">\n      <a href=\"#\" class=\"addCardBtn js-addToCart\">加入購物車</a>\n      <h3>${item.title}</h3>\n    </div>\n      <div class=\"\">\n        <del class=\"originPrice\">NT$${addCommaReg(item['origin_price'])}</del>\n        <p class=\"nowPrice\">NT$${addCommaReg(item.price)}</p>\n      </div>\n    </li>\n    `;\n    str += content;\n  });\n  productList.innerHTML = str;\n} \n\n// 加上千分位\nfunction addCommaReg(num){\n  var number = num.toString().split('.');\n  number[0] = number[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  \n  return number.join('.')\n}\n\n//select change add render\nfunction renderSelectList(e){\n  console.log(e.target.value);\n  let filterData = [];\n\n  //productData\n  if(e.target.value === '全部'){\n    filterData = productData;\n  }else{\n    filterData = productData.filter((item => item.category === e.target.value))\n  }\n  renderProductList(filterData);\n\n}\n\n//加入購物車\nfunction addCartItem(productId) {\n  axios.post(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/carts`, {\n    data: {\n      \"productId\": productId,\n      \"quantity\": 1\n    }\n  }).\n    then(function (response) {\n      getCartList();\n  })\n\n}\n\n//取得購物車清單\nfunction getCartList() {\n  axios.get(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/carts`).\n    then(function (response) {\n      cartData = response.data.carts ;\n      renderCartList(cartData);\n    })\n}\n\n//點擊監聽事件\nfunction addToCartData(e){\n  e.preventDefault();\n  let productId = e.target.closest('li').dataset.id;\n\n  addCartItem(productId);\n\n}\n\n// render cartList\nfunction renderCartList(inputData){\n  const cartList = document.querySelector('.js-cartList');\n  let num = 0;\n  let str = `<tr>\n  <th width=\"40%\">品項</th>\n  <th width=\"15%\">單價</th>\n  <th width=\"15%\">數量</th>\n  <th width=\"15%\">金額</th>\n  <th width=\"15%\"></th>\n</tr>\n`;\n\nif(inputData.length ===0 ){\n  let content = `\n  <tr>\n    <td colspan=\"2\" class=\"mx-auto\" >\n      購物車目前是空的呦～\n    </td>\n  </tr>\n  `;\n  str += content;\n  \n}else{\n  inputData.forEach(item =>{\n    let content = `\n    <tr data-cart-id=\"${item.id}\">\n    <td>\n        <div class=\"cardItem-title\">\n            <img src=\"${item.product.images}\" alt=\"img\">\n            <p>${item.product.title}</p>\n        </div>\n    </td>\n    <td>NT$${addCommaReg(item.product.price)}</td>\n    <td>1</td>\n    <td>NT$${addCommaReg(item.product['origin_price'])}</td>\n    <td class=\"discardBtn\">\n        <a href=\"#\" class=\"material-icons\" data-clear=\"single\">\n            clear\n        </a>\n    </td>\n  </tr>\n  `;\n    num += item.product.price;\n    str += content;\n  })\n  let endContent = `  <tr>\n  <td>\n      <a href=\"#\" class=\"discardAllBtn\" data-clear=\"all\">刪除所有品項</a>\n  </td>\n  <td></td>\n  <td></td>\n  <td>\n      <p>總金額</p>\n  </td>\n  <td>NT$${addCommaReg(num)}</td>\n</tr>`\n  str += endContent ;\n}\n  \n \n  \n  cartList.innerHTML =str;\n\n}\n\n// 刪除 cart id\nfunction deleteCartId(e){\n  if(document.querySelector('.js-cartList')){\n    console.log(e.target.dataset.clear);\n\n    // if(e.target.nodeList)\n    if(e.target.dataset.clear === 'single'){\n      e.preventDefault();\n      cartId = e.target.closest('tr').dataset.cartId;\n\n     deleteCartItem(cartId);\n    }else if(e.target.dataset.clear === 'all'){\n      e.preventDefault();\n      deleteAllCartList();\n    };\n\n  }\n}\n\n// 刪除購物車內特定產品\nfunction deleteCartItem(cartId) {\n  axios.delete(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/carts/${cartId}`).\n    then(function (response) {\n      cartData = response.data.carts ;\n      getCartList()\n    })\n}\n\n//刪除所有產品\nfunction deleteAllCartList() {\n  axios.delete(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/carts`).\n    then(function (response) {\n      cartData = response.data.carts ;\n      getCartList()\n    })\n}\n\n//送出表單\nfunction getOrderData(e){\n  if(e.target.classList.contains('js-form')){\n    e.preventDefault();\n    const inputGroup = document.querySelectorAll('input');\n    const select = document.querySelector('#tradeWay');\n    if(cartData.length === 0){\n      alert('購物車沒有東西呦～趕快去購物吧！')\n      return;\n    }\n\n  const year = new Date().getFullYear() ;\n  const month = (new Date().getMonth() + 1 < 10 ? '0' : '') + (new Date().getMonth() + 1) ;  //十位數＋個位數\n  const date = (new Date().getDate() < 10 ? '0' : '') + new Date().getDate() ;\n  let dateValue = `${year}/${month}/${date}`;\n\n\n    for(let i = 0; i < inputGroup.length ; i++){\n      if(inputGroup[i].getAttribute('type')!=='submit'){\n        if(inputGroup[i].value.length === 0){\n          alert( `${inputGroup[i].placeholder}!`);\n          return;\n        }else{\n          if( i+2 != inputGroup.length){\n            orderData.push(inputGroup[i].value.trim());\n          }else{\n            orderData.push(inputGroup[i].value.trim());\n            orderData.push(select.value); \n            orderData.push(dateValue);\n\n            let userData = {\n              \"name\": orderData[0],\n              \"tel\": orderData[1],\n              \"email\": orderData[2],\n              \"address\": orderData[3],\n              \"payment\": orderData[4]\n            };\n            console.log(userData);\n            createOrder(userData) ;\n          }\n        }\n      }\n    }\n   \n  }\n}\n\nfunction createOrder(userData) {\n  axios.post(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/orders`,\n    {\n      \"data\": {\n        \"user\": userData\n      }\n    }\n  ).\n  then(function (response) {\n      alert('訂單已送出囉～');\n      const inputGroup = document.querySelectorAll('input');\n      const select = document.querySelector('#tradeWay');\n\n      inputGroup.forEach(item=>{\n        if(item.getAttribute('type')!=='submit'){\n          item.value ='';\n        }\n      })\n      select.value = 'ATM';\n      getCartList();\n\n    })\n    .catch(function(error){\n      console.log('error',error.response.data.message);\n    })\n}\n\n\n\n//back\nfunction getOrderList() {\n  axios.get(`https://livejs-api.hexschool.io/api/livejs/v1/admin/${api_path}/orders`,\n    {\n      headers: {\n        'Authorization': token\n      }\n    })\n    .then(function (response) {\n      orderList = response.data.orders;\n      renderOrderList(orderList);\n      getChartData(orderList)\n\n      const deleteAll = document.querySelectorAll('[data-del]');\n      deleteAll.forEach(item => item.addEventListener('click', deleteOrders));\n\n      getOrderStatus();\n    })\n}\n\nfunction renderOrderList(inputData){\n  const orderTable = document.querySelector('.js-order-list');\n  let str = '';\n  str += ` <thead>\n  <tr>\n      <th>訂單編號</th>\n      <th>聯絡人</th>\n      <th>聯絡地址</th>\n      <th>電子郵件</th>\n      <th>訂單品項</th>\n      <th>訂單日期</th>\n      <th>訂單狀態</th>\n      <th>操作</th>\n  </tr>\n</thead>`;\n  if(inputData.length === 0){\n    let content = `\n    <tr>\n      <td colspan=\"9\">目前沒有訂單呦～</td>\n    </tr>\n    `\n    str += content;\n  }else{\n    orderList = sortOrderList(inputData);\n    orderList.forEach(item =>{\n      item.products.forEach(productItem =>{\n        let content = `\n        <tr  data-id=\"${item.id}\">\n          <td>${item.createdAt}</td>\n          <td>\n              <p>${item.user.name}</p>\n              <p>${item.user.tel}</p>\n          </td>\n          <td>${item.user.address}</td>\n          <td>${item.user.email}</td>\n          <td>\n            <p>${productItem.title}</p>\n          </td>\n          <td>${dateReg(item.createdAt)}</td>\n          <td class=\"orderStatus\">\n              <a href=\"#\" class=\"js-status\" data-status=\"${item.paid ? 'true':'false'}\">${item.paid ? '已處理':'未處理'}</a>\n          </td>\n          <td>\n              <input type=\"button\" class=\"delSingleOrder-Btn\" value=\"刪除\" data-del=\"single\">\n          </td>\n        </tr>\n        `\n        str += content;\n      })\n    })\n    \n  }\n\n  orderTable.innerHTML = str;\n}\n\n//訂單日期\nfunction dateReg(inputDate){\n  let date = new Date(inputDate*1000)\n  return date.toLocaleDateString();\n}\n\n\nfunction sortOrderList(inputData){\n  inputData.sort((a,b)=>{\n    return a.createdAt - b.createdAt\n  })\n  return inputData\n}\n\nfunction deleteOrders(e){\n  if(e.target.dataset.del){\n    e.preventDefault()\n    if(e.target.dataset.del==='all'){\n      deleteAllOrder();\n    }else if(e.target.dataset.del === 'single'){\n      let id = e.target.closest('tr').dataset.id;\n      deleteOrderItem(id);\n    }\n  }\n}\n\n// 刪除全部訂單\nfunction deleteAllOrder() {\n  axios.delete(`https://livejs-api.hexschool.io/api/livejs/v1/admin/${api_path}/orders`,\n    {\n      headers: {\n        'Authorization': token\n      }\n    })\n    .then(function (response) {\n      getOrderList();\n    })\n}\n\n\n// 刪除特定訂單\nfunction deleteOrderItem(orderId) {\n  axios.delete(`https://livejs-api.hexschool.io/api/livejs/v1/admin/${api_path}/orders/${orderId}`,\n    {\n      headers: {\n        'Authorization': token\n      }\n    })\n    .then(function (response) {\n      getOrderList();\n    })\n}\n\n\n// 修改訂單狀態\n\nfunction editOrderList(orderId, orderStatus) {\n  axios.put(`https://livejs-api.hexschool.io/api/livejs/v1/admin/${api_path}/orders`,\n    {\n      \"data\": {\n        \"id\": orderId,\n        \"paid\": orderStatus\n      }\n    },\n    {\n      headers: {\n        'Authorization': token\n      }\n    })\n    .then(function (response) {\n      console.log(response);\n      getOrderList();\n    })\n}\n\n\nfunction getOrderStatus(){\n  if(document.querySelector('.js-status')){\n    const statusBtn = document.querySelectorAll('.js-status');\n    statusBtn.forEach(item =>{\n      item.addEventListener('click',editOrderStatus);\n    })\n  }\n}\n\nfunction editOrderStatus(e){\n  e.preventDefault();\n  if(e.target.classList.contains('js-status')){\n    let orderId = e.target.closest('tr').dataset.id;\n    let orderStatus = null;\n    if(e.target.closest('a').dataset.status === 'true'){\n       orderStatus = false;\n    }else{\n       orderStatus = true;\n    }\n    editOrderList(orderId,orderStatus);\n  }\n}\n\nfunction getChartData(orderList){\n  console.log(orderList);\n\n  let productObj ={};\n  orderList.forEach(item =>{\n    item.products.forEach(productItem=>{\n      if(productObj[productItem.title]){\n          productObj[productItem.title] += parseInt(productItem.quantity);\n      }else if(!productObj[productItem.title]){\n        productObj[productItem.title]= parseInt(productItem.quantity);\n      }\n    })\n  })\n\n  let aryObj = Object.keys(productObj);\n  let chartData = []\n\n  aryObj.forEach(item =>{\n    let ary =[];\n    ary.push(item);\n    ary.push(productObj[item]);\n    chartData.push(ary);\n  })\n\n  generateChart(chartData);\n}\n\nfunction generateChart(chartData){\n  // C3.js\n  let chart = c3.generate({\n    bindto: '#chart', // HTML 元素綁定\n    data: {\n        type: \"pie\",\n        columns: chartData,\n        colors:{\n          \"Louvre 雙人床架\":\"#DACBFF\",\n          \"Antony 雙人床架\":\"#9D7FEA\",\n          \"Anty 雙人床架\": \"#5434A7\",\n          \"其他\": \"#301E5F\",\n        }\n    },\n\n  });\n\n}\n\n"]}